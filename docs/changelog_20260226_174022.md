# clarc â€” Normalize WSL/Windows Project Paths for Unified View

**Date**: 2026-02-26

## Overview

Added automatic normalization of WSL and Windows path encodings in the project scanner. When the same project directory is opened from both WSL (e.g., `/mnt/e/myproject`) and Windows Claude Desktop (e.g., `E:\myproject`), Claude Code encodes these as different directory names (`-mnt-e-myproject` vs `E--myproject`). The scanner now normalizes WSL-encoded paths to the Windows drive-letter form and merges matching directories into a single project with combined sessions.

## Changes

### Added: WSL/Windows path normalization in scanner

- `normalizeProjectId()` converts WSL path encoding (`-mnt-X-rest`) to Windows drive-letter form (`X--rest`)
- `scanProjects()` groups directories by normalized canonical ID before scanning
- `scanMergedProject()` merges sessions, agents, and tasks from multiple physical directories into one `Project`, with session deduplication by UUID

### Updated: Documentation

- DEV_GUIDE.md: Scanner section documents normalization and merge steps
- USER_GUIDE.md: Data Sync section and multi-source FAQ note the automatic path normalization
- Help.tsx: Data sync section mentions WSL/Windows path normalization

---

## File Change Summary

### New Files (1)

| File | Description |
|------|-------------|
| `docs/changelog_20260226_174022.md` | This changelog |

### Modified Files (4)

| File | Change |
|------|--------|
| `src/data/scanner.ts` | Added `normalizeProjectId()`, `scanMergedProject()`, updated `scanProjects()` to group by canonical ID |
| `docs/DEV_GUIDE.md` | Documented path normalization and merge steps in Scanner section |
| `docs/USER_GUIDE.md` | Added normalization notes to Data Sync section and multi-source FAQ |
| `src/ui/pages/Help.tsx` | Updated Data sync description with WSL/Windows normalization |
