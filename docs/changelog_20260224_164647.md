# clarc â€” Search Result Scroll-to-Message

**Date**: 2026-02-24

## Change: Search Results Navigate to Matching Message

Previously, clicking a search result navigated to the session page but landed at the top. Now it scrolls directly to the matching message and highlights it.

### How It Works

- Search result links now include a `#msg-{uuid}` hash fragment
- Each message in the conversation view has a unique `id="msg-{uuid}"` anchor
- On session page load, if a hash is present, the page smooth-scrolls to the target message (centered in viewport)
- A 2-second highlight flash animation (purple tint fading to transparent) draws attention to the matched message

---

## File Change Summary

### Modified Files (6)

| File | Changes |
|------|---------|
| `src/ui/pages/Search.tsx` | Search result links include `#msg-{uuid}` hash |
| `src/ui/components/MessageRenderer.tsx` | Added `id="msg-{uuid}"` to user and assistant message divs |
| `src/ui/pages/SessionDetail.tsx` | Added `useEffect` for scroll-to-hash with highlight on mount |
| `src/ui/styles/globals.css` | Added `highlightFlash` keyframe and `.highlight-flash` class |
| `src/ui/pages/Help.tsx` | Updated search section to describe scroll-to-message behavior |
| `docs/USER_GUIDE.md` | Updated search results description |
